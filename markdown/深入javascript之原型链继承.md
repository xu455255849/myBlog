## å‰è¨€

æ¸©æ•…è€ŒçŸ¥æ–°ï¼Œä¸»è¦æ¢³ç†jsçš„åŸå‹é“¾ç»§æ‰¿çŸ¥è¯†ï¼Œ å…ˆçœ‹ä¸€å¼ ç»å…¸çš„å›¾ï¼Œå¾ˆå¥½çš„æè¿°äº†jsåŸå‹é“¾ã€‚å¯¹å¯¹è¿™ä¸€å—è¿˜ä¸æ˜¯å¾ˆäº†è§£çš„åŒå­¦å¯ä»¥ä¸€èµ·å­¦ä¹ ã€‚

![3e8791e2d20fed539d07dd931b05ee87.png](http://upload-images.jianshu.io/upload_images/3765249-804c6d3e8d6fc92d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
## å¼•å­
åœ¨é¢å‘ç±»çš„è¯­è¨€ä¸­ï¼Œç±»å¯ä»¥è¢«å¤åˆ¶ï¼ˆæˆ–è€…è¯´å®ä¾‹åŒ–ï¼‰å¤šæ¬¡ï¼Œå°±åƒç”¨æ¨¡å…·åˆ¶ä½œä¸œè¥¿ä¸€æ ·ã€‚æˆ‘ä»¬åœ¨ç¬¬4ç« ä¸­çœ‹åˆ°è¿‡ï¼Œä¹‹æ‰€ä»¥ä¼šè¿™æ ·æ˜¯å› ä¸ºå®ä¾‹åŒ–ï¼ˆæˆ–è€…ç»§æ‰¿ï¼‰ä¸€ä¸ªç±»å°±æ„å‘³ç€â€œæŠŠç±»çš„è¡Œä¸ºå¤åˆ¶åˆ°ç‰©ç†å¯¹è±¡ä¸­â€ï¼Œå¯¹äºæ¯ä¸€ä¸ªæ–°å®ä¾‹æ¥è¯´éƒ½ä¼šé‡å¤è¿™ä¸ªè¿‡ç¨‹ã€‚

ä½†æ˜¯åœ¨JavaScriptä¸­ï¼Œå¹¶æ²¡æœ‰ç±»ä¼¼çš„å¤åˆ¶æœºåˆ¶ã€‚ä½ ä¸èƒ½åˆ›å»ºä¸€ä¸ªç±»çš„å¤šä¸ªå®ä¾‹ï¼Œåªèƒ½åˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼Œå®ƒä»¬[[Prototype]]å…³è”çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚ä½†æ˜¯åœ¨é»˜è®¤æƒ…å†µä¸‹å¹¶ä¸ä¼šè¿›è¡Œå¤åˆ¶ï¼Œå› æ­¤è¿™äº›å¯¹è±¡ä¹‹é—´å¹¶ä¸ä¼šå®Œå…¨å¤±å»è”ç³»ï¼Œå®ƒä»¬æ˜¯äº’ç›¸å…³è”çš„ã€‚

æœ€åæˆ‘ä»¬å¾—åˆ°äº†ä¸¤ä¸ªå¯¹è±¡ï¼Œå®ƒä»¬ä¹‹é—´äº’ç›¸å…³è”ï¼Œå°±æ˜¯è¿™æ ·ã€‚æˆ‘ä»¬å¹¶æ²¡æœ‰åˆå§‹åŒ–ä¸€ä¸ªç±»ï¼Œå®é™…ä¸Šæˆ‘ä»¬å¹¶æ²¡æœ‰ä»â€œç±»â€ä¸­å¤åˆ¶ä»»ä½•è¡Œä¸ºåˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œåªæ˜¯è®©ä¸¤ä¸ªå¯¹è±¡äº’ç›¸å…³è” ã€‚

> jsæ˜¯åŸºäºåŸå‹ï¼ˆå¯¹è±¡ï¼‰çš„è¯­è¨€ï¼Œå¹¶éé¢å‘å¯¹è±¡ï¼Œä¹Ÿæ²¡æœ‰ç±»ä¼¼javaçš„ç±»çš„æ¦‚å¿µï¼Œåªæœ‰åˆ©ç”¨å‡½æ•°æ¨¡æ‹Ÿç±»çš„å®ç°ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬å¸¸å¸¸çœ‹åˆ°çš„åŸå‹é“¾ç»§æ‰¿ã€‚


## ä¼ ç»Ÿç»§æ‰¿
é¦–å…ˆä»‹ç»ä¼ ç»Ÿå®ç°ç»§æ‰¿çš„å‡ ç§æ–¹æ³•,ï¼ˆä»£ç å‚è€ƒé˜®ä¸€å³°å’Œå¹»ç¥çš„æ–‡ç« ï¼Œå†™çš„å¾ˆå¥½ï¼Œå¼ºçƒˆå»ºè®®é˜…è¯»ã€‚ï¼‰å…ˆæ„é€ ä¸€ä¸ªçˆ¶ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š

```
function Animal (name) {
 
  this.name = name || 'Animal';

  this.sleep = function(){
    console.log(this.name + 'æ­£åœ¨ç¡è§‰ï¼');
  }
}

Animal.prototype.type = 'çŒ«ç§‘åŠ¨ç‰©'

```


### prototypeç»§æ‰¿

```
function Cat(){}
Cat.prototype = new Animal();
Cat.prototype.constructor = Cat; // éœ€è¦ä¿®å¤ä¸‹åŸå‹æŒ‡å‘
Cat.prototype.name = 'cat';

//ã€€Test Code
var cat = new Cat();
console.log(cat);
console.log(cat instanceof Animal); //true 
console.log(cat instanceof Cat); //true

```

ä¼˜ç‚¹ï¼š

* çˆ¶ç±»æ–°å¢åŸå‹æ–¹æ³•/åŸå‹å±æ€§ï¼Œå­ç±»éƒ½èƒ½è®¿é—®åˆ°
* å®ç°ç®€å•ï¼Œæ–¹ä¾¿æ˜“ç”¨

ç¼ºç‚¹ï¼š

* æ— æ³•å®ç°å¤šç»§æ‰¿
* åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œæ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚


### æ„é€ ç»§æ‰¿

```

function Cat(name){
  Animal.call(this, name);
}

// Test Code
var cat = new Cat();
console.log(cat);
console.log(cat instanceof Animal); // false
console.log(cat instanceof Cat); // true

```

ä¼˜ç‚¹ï¼š

* åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•°
* å¯ä»¥å®ç°å¤šç»§æ‰¿ï¼ˆcallå¤šä¸ªçˆ¶ç±»å¯¹è±¡ï¼‰

ç¼ºç‚¹ï¼š

* åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³•
* åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œæ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚

### æ‹·è´ç»§æ‰¿

```
function Cat(name){
  var animal = new Animal();
  for(var p in animal){
    Cat.prototype[p] = animal[p];
  }
  Cat.prototype.name = name || '';
}

// Test Code
var cat = new Cat();
console.log(cat);
console.log(cat instanceof Animal); // false
console.log(cat instanceof Cat); // true

```

ä¼˜ç‚¹ï¼š

* æ”¯æŒå¤šç»§æ‰¿

ç¼ºç‚¹ï¼š

* æ•ˆç‡è¾ƒä½ï¼Œå†…å­˜å ç”¨é«˜
* æ— æ³•æ‹·è´ä¸å¯æšä¸¾çš„å±æ€§

>  ä¸å»ºè®®ä½¿ç”¨ï¼Œæ¨èobject.createç»§æ‰¿


### ç»„åˆç»§æ‰¿

```
function Cat(name){
  Animal.call(this, name);
}
Cat.prototype = new Animal();

Cat.prototype.constructor = Cat;

// Test Code
var cat = new Cat();
console.log(cat);
console.log(cat instanceof Animal); // true
console.log(cat instanceof Cat); // true

```

ä¼˜ç‚¹ï¼š

* æ„é€ ç»§æ‰¿ä¼˜åŒ–ç‰ˆï¼Œå¼¥è¡¥äº†æ— æ³•ç»§æ‰¿çˆ¶ç±»åŸå‹å±æ€§ï¼æ–¹æ³•çš„ç¼ºç‚¹

ç¼ºç‚¹ï¼š

* è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸¤ä»½å®ä¾‹

æ— æ³•æ‹·è´ä¸å¯æšä¸¾çš„å±æ€§å®ä¾‹

### å¯„ç”Ÿç»„åˆç»§æ‰¿

```
function Cat(name){
  Animal.call(this, name);
}
(function(){
  // åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å®ä¾‹æ–¹æ³•çš„ç±»
  var Super = function(){};
  Super.prototype = Animal.prototype;
  //å°†å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹
  Cat.prototype = new Super();
  Cat.prototype.constructor = Cat; //ä¿®å¤
})();


// Test Code
var cat = new Cat();
console.log(cat);
console.log(cat instanceof Animal); // true
console.log(cat instanceof Cat); //true

```

ä¼˜ç‚¹ï¼š

* æœ€ç†æƒ³çš„ç»§æ‰¿æ–¹æ³•

ç¼ºç‚¹ï¼š

* å®ç°å¤æ‚

## ES6ç»§æ‰¿

### Object.createç»§æ‰¿

```
//æ„é€ çˆ¶ç±»
function Animal(name) {
  this.name = name || 'bb'
}
Animal.prototype.speak = function(name) {
  console.info('lalala, ' + name);
};

//å®šä¹‰å­ç±»  å¹¶åˆ›å»ºåŸå‹
function Dog(name) {
   Animal.call(this, name); 
}
Dog.prototype = Object.create(Animal.prototype);
Dog.prototype.constructor = Dog;

var dog = new Dog("å°ç™½")

console.log(dog)
dog.speak('å°ç™½')


```

createä¹Ÿæ”¯æŒå¤šç»§æ‰¿ï¼Œ ä»£ç å¦‚ä¸‹ï¼š

```
//å†å®šä¹‰ä¸€ä¸ªçˆ¶ç±»
function AnimalOther(age) {
  this.age = age || 1
}

function Dog(name, age) {
   Animal.call(this, name); 
   AnimalOther.call(this, age)
}

Dog.prototype = Object.create(Animal.prototype);
Object.assign(Dog.prototype, AnimalOther.prototype);
Dog.prototype.constructor = Dog;
Dog.prototype.speak = function() {
     // do a thing
};

var dog = new Dog('name', 18)
console.log(dog) //...

```

### classæ„é€ ç±»


```
//é¦–å…ˆå£°æ˜ä¸€ä¸ªçˆ¶ç±»
class Animal {
	constructor(name, type) {
		this.name = name || 'å°ç™½',
		this.type = type || 'æŸ´çŠ¬'
	}
	speak () {
		console.log(this.name + 'æ—ºæ—º')
	}
}

// é€šè¿‡extendsåˆ›å»ºå­ç±»
class Lion extends Cat {
  speak() {
    super.speak();  //é€šè¿‡superè°ƒç”¨çˆ¶ç±»å‡½æ•°
    console.log(this.name + ' roars.');
  }
}
		
```

å¦‚æœæ˜¯ä½¿ç”¨reacæ¡†æ¶ï¼Œåº”è¯¥å¯¹classæ˜¯éå¸¸ç†Ÿæ‚‰çš„ã€‚



## åè®°

è¿™ç¯‡æ–‡ç« ä¼ ç»Ÿç»§æ‰¿æœ¬æ¥è‡ªå·±ç»“åˆå¤šç¯‡æ–‡ç« æ€»ç»“å†™äº†ä¾‹å­ï¼Œå¯æƒœmarkdownæŒ‚äº†ï¼Œå¯¼è‡´æ•°æ®ä¸¢äº†ğŸ˜¢ã€‚

é—­åŒ…ï¼Œthisï¼ŒåŸå‹é“¾ç­‰ç­‰é—®é¢˜ä¸€å‘æ˜¯å‰ç«¯å…¥é—¨çš„éš¾ç‚¹ã€é‡ç‚¹ï¼Œå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œè®°å½•ä¸‹æ¥ï¼Œå¿˜äº†å°±å¤šçœ‹å‡ éï¼Œæ€»èƒ½è®°ä½ï¼Œè¿‘æœŸåœ¨æ•´ç†é¢è¯•é¢˜ï¼Œæ¢³ç†åŸºç¡€ï¼Œå†…å®¹å¤ªå¤šï¼Œå¯èƒ½ä¸æ‰“ç®—å†™ä¸‹æ¥ã€‚


å¦‚æœè§‰å¾—æœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œå°±starä¸€ä¸‹å§ï½å¤§ä¼ é€ä¹‹æœ¯ï¼    [æˆ‘çš„åšå®¢Github](https://github.com/xu455255849/myBlog)